<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script defer type=text/javascript>
  const endpoint = "http://localhost:8080/jotd"
  $(
    $.ajax(endpoint, {
      "async": true,
      "contentType": "application/json",
      "crossDomain": true,
      "data": {
        "day": "2023-09-23"
      },
      "statusCode": {
        200: (data, textStatus, jqXHR) => {
          data = $.parseJSON(data)
          console.log(jqXHR, textStatus, data);
          $form = $('form[name=jotd]')
          $form.find('input[name=id]').val(data.id)
          $form.find('input[name=day]').val(data.day)
          $form.find('input[name=old-day]').val(data.day)
          $form.find('input[name=text]').val(data.text)
          $form.find('input[name=desc]').val(data.desc)
        },
        400: (jqXHR, textStatus, errorThrown) => {
          console.log(jqXHR, textStatus, errorThrown);
        },
        404: (jqXHR, textStatus, errorThrown) => {
          console.log(jqXHR, textStatus, errorThrown);
        },
        500: (jqXHR, textStatus, errorThrown) => {
          console.log(jqXHR, textStatus, errorThrown);
        }
      },
      "method": "GET"
    })
  );
  </script>

  <style>
    .main {
      margin-left: auto;
      margin-right: auto;
      width: 80%;
    }

    .jotd {}

    .jotd .id {
      /* display: none; */
    }

    .jotd .day {
      /* display: none; */
    }

    .jotd .new-day {}

    .jotd .text {
      height: 10em;
      width: 30em;
    }

    .jotd .desc {
      height: 10em;
      width: 30em;
    }

    .jotd>.calendar {
      background-color: blue;
      float: left;
      height: 200px;
      width: 30%;
    }

    .controls>.control {
      border-style: hidden;
      border-width: 2px;
      float: left;
      padding: 1em;
      position: relative;
      text-align: center;
      width: 30%;
    }

    .controls>.control:hover {
      background-color: #ddd;
      border-style: outset;
    }
  </style>

</head>

<body>
  <div id="main" class="main">
    <form name="jotd" class="jotd">
      <div class="calendar"></div>
      <div class="line-item">
        <input name="id" class="id">
      </div>
      <div class="line-item">
        <input name="day" class="day">
      </div>
      <div class="line-item">
        <input name="old-day" class="day">
      </div>
      <div class="line-item">
        <input name="text" class="text">
      </div>
      <div class="line-item">
        <input name="description" class="desc">
      </div>
    </form>
    <div class="controls">
      <div class="control edit" id="patch">edit</div>
      <div class="control delete" id="delete">delete</div>
      <div class="control add" id="post">new</div>
    </div>
    <div class="status"></div>
  </div>
</body>

</html>